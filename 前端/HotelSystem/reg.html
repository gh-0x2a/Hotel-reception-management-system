<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>IU酒店前台管理系统</title>
		<script src="js/vue.js" type="text/javascript" charset="UTF-8"></script>
		<script src="//unpkg.com/element-ui@2.15.7/lib/index.js"></script>
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
		<script src="js/axios.min.js" type="text/javascript" charset="UTF-8"></script>
		
		<style type="text/css">
			body{
				background: url(img/1.png) no-repeat center center;
				background-size:cover;
				background-attachment:fixed;
			    background-color:#CCCCCC;
			}
			#app{
				background-color: #303133;
				width: 300px;
				height: 450px;
				border: 1px #303133 solid;
				border-radius: 10px;
				text-align: center;
				padding: 40px;
				margin: 100px auto;
				box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1)
			}
			#s1{
				font-size: 25px;
				font-family: "agency fb";
				color: lightgrey;
				text-align: left;
			}
			.el-button{
				background-color: #303133;
				color: lightgray;
				border: 2px darkslateblue solid;
				width: 120px;
			}
			.el-button:hover, .el-button:focus{
				border: 2px slateblue solid;
				background-color: #303133;
				color: white;
			}
			.el-input{
				box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);
				background-color: gray
			}
		</style>
	</head>
	<body>
		<div id="app">
			<br><br>
			<p id="s1">&nbsp;&nbsp;注册</p>
			<br>
			
			<el-input
			    placeholder="用户名（员工号）"
			    prefix-icon="el-icon-user-solid"
			    v-model="uname">
			</el-input>
			
			<br><br>
			  
			<el-input
			    placeholder="姓名"
			    prefix-icon="el-icon-user-solid"
			    v-model="name">
			</el-input>
			
			<br><br>
			
			<el-input
			    placeholder="密码"
			    prefix-icon="el-icon-lock"
			    v-model="upwd"
				show-password>
			</el-input>
			
			<br><br><br>
			<el-button round @click="reg()">注 册</el-button>
			
		</div>
		
		<script type="text/javascript">
			let vm=new Vue({
				el:"#app",
				data:{
					uname:"",
					name:"",
					upwd:""
				},
				methods:{
					reg(){
						//把数据发送给后台
						axios.post("http://127.0.0.1:8080/HotelSystem/RegServlet?uname="+this.uname+"&upwd="+this.upwd+"&name="+this.name)
						.then(res=>{
							//后台返回来的信息
							if(res.data=="success"){
								alert("注册成功")
								location.href="login.html";
							}else if(res.data=="unamerepeat"){
								alert("用户名已被注册")
							}else{
								alert("注册失败")
							}
						})
					}
				}
			})
		</script>
	</body>
</html>
